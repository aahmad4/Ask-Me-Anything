(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{166:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(39),r=n.n(c),i=n(67),l=n(14),o=n(42),j=n.n(o),b=n(55),u=n(5),d=n(51),h=n.n(d),O=n(127),x=n(194),g=n(188),p=n(24),m=n(176),f=n(183),v=n(190),w=n(124),S=n(177),y=n(185),C=n(180),k=n(121),z=n(46),A=localStorage.getItem("userDetails")?JSON.parse(localStorage.getItem("userDetails")):null,I=Object(z.a)({userDetails:A,questions:[]}),D=n(187),M=n(68),_=n(182),P=n(193),L=n(184),T=n(179),E=n(84),J=n(85),R=n(94),B=n(125),U=n(178),F=n(4),H=["children"];function N(e){var t=e.children,n=Object(B.a)(e,H);return Object(F.jsxs)(m.a,Object(R.a)(Object(R.a)({paddingRight:"7",paddingLeft:"7",align:"center",color:"gray.300"},n),{},{children:[Object(F.jsx)(S.a,{flex:"1",children:Object(F.jsx)(U.a,{borderColor:"currentcolor"})}),Object(F.jsx)(T.a,{as:"span",px:"3",color:Object(O.d)("gray.600","gray.400"),fontWeight:"medium",children:t}),Object(F.jsx)(S.a,{flex:"1",children:Object(F.jsx)(U.a,{borderColor:"currentcolor"})})]}))}var q=n(192);function G(e){var t=e.status,n=e.text;return Object(F.jsxs)(q.a,{status:t,children:[Object(F.jsx)(q.c,{}),n]})}function W(e){var t=e.isOpen,n=e.setLoginModalOpen,a=Object(s.useState)(""),c=Object(u.a)(a,2),r=c[0],i=c[1],l=Object(s.useState)(""),o=Object(u.a)(l,2),d=o[0],O=o[1],x=Object(s.useState)(null),p=Object(u.a)(x,2),m=p[0],f=p[1],v=Object(s.useRef)(),S=Object(z.b)(I).userDetails,y=Object(g.a)(),C=function(){var e=Object(b.a)(j.a.mark((function e(){var t,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("/api/users/login",{username:r,email:r,password:d},{headers:{"Content-Type":"application/json"}});case 3:t=e.sent,s=t.data,S.set(s),localStorage.setItem("userDetails",JSON.stringify(s)),i(""),O(""),f(null),n(!1),y({title:"Account authenticated.",description:s.message,status:"success",duration:9e3,isClosable:!0}),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(0),f(e.t0.response.data.message),i(""),O("");case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return Object(F.jsxs)(D.a,{isOpen:t,onClose:function(){n(!1),i(""),O(""),f(null)},children:[Object(F.jsx)(D.g,{}),Object(F.jsxs)(D.d,{children:[Object(F.jsx)(D.f,{children:"Log in to your account"}),Object(F.jsx)(D.c,{}),Object(F.jsxs)(D.b,{pb:2,children:[m&&Object(F.jsx)(G,{status:"error",text:m}),Object(F.jsxs)(M.a,{mt:m&&4,children:[Object(F.jsx)(_.a,{children:"Username or Email"}),Object(F.jsx)(P.a,{ref:v,placeholder:"Username or Email",value:r,onChange:function(e){return i(e.target.value)}})]}),Object(F.jsxs)(M.a,{mt:4,children:[Object(F.jsx)(_.a,{children:"Password"}),Object(F.jsx)(P.a,{placeholder:"Password",type:"password",value:d,onChange:function(e){return O(e.target.value)}})]})]}),Object(F.jsx)(D.e,{children:Object(F.jsx)(w.a,{type:"submit",onClick:C,bg:"red.400",_hover:{bg:"red.300"},size:"lg",fontSize:"md",width:"100%",children:"Sign in"})}),Object(F.jsx)(N,{children:"or continue with"}),Object(F.jsxs)(D.e,{mb:2,display:"flex",flexDirection:"column",children:[Object(F.jsx)(w.a,{size:"lg",fontSize:"md",width:"100%",colorScheme:"twitter",leftIcon:Object(F.jsx)(E.a,{}),children:Object(F.jsx)(L.a,{children:Object(F.jsx)(T.a,{children:"Sign in with Twitter"})})}),Object(F.jsx)(w.a,{mt:4,size:"lg",fontSize:"md",width:"100%",colorScheme:"gray",leftIcon:Object(F.jsx)(J.a,{}),children:Object(F.jsx)(L.a,{children:Object(F.jsx)(T.a,{children:"Sign in with GitHub"})})})]})]})]})}function Q(e){var t=e.isOpen,n=e.setRegisterModalOpen,a=Object(s.useState)(""),c=Object(u.a)(a,2),r=c[0],i=c[1],l=Object(s.useState)(""),o=Object(u.a)(l,2),d=o[0],O=o[1],x=Object(s.useState)(""),p=Object(u.a)(x,2),m=p[0],f=p[1],v=Object(s.useState)(null),S=Object(u.a)(v,2),y=S[0],C=S[1],k=Object(s.useRef)(),A=Object(z.b)(I).userDetails,R=Object(g.a)(),B=function(){var e=Object(b.a)(j.a.mark((function e(){var t,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("/api/users/register",{username:r,email:d,password:m,first_name:"",last_name:""},{headers:{"Content-Type":"application/json"}});case 3:t=e.sent,s=t.data,A.set(s),localStorage.setItem("userDetails",JSON.stringify(s)),i(""),O(""),f(""),C(null),n(!1),R({title:"Account created.",description:s.message,status:"success",duration:9e3,isClosable:!0}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),e.t0.response&&(C(e.t0.response.data.message),i(""),O(""),f(""));case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();return Object(F.jsxs)(D.a,{scrollBehavior:"inside",isOpen:t,onClose:function(){n(!1),i(""),O(""),f(""),C(null)},children:[Object(F.jsx)(D.g,{}),Object(F.jsxs)(D.d,{children:[Object(F.jsx)(D.f,{children:"Create your account"}),Object(F.jsx)(D.c,{}),Object(F.jsxs)(D.b,{pb:2,children:[y&&Object(F.jsx)(G,{status:"error",text:y}),Object(F.jsxs)(M.a,{mt:y&&4,children:[Object(F.jsx)(_.a,{children:"Username"}),Object(F.jsx)(P.a,{ref:k,placeholder:"Username",value:r,onChange:function(e){return i(e.target.value)}})]}),Object(F.jsxs)(M.a,{mt:4,children:[Object(F.jsx)(_.a,{children:"Email"}),Object(F.jsx)(P.a,{placeholder:"Email",value:d,onChange:function(e){return O(e.target.value)}})]}),Object(F.jsxs)(M.a,{mt:4,children:[Object(F.jsx)(_.a,{children:"Password"}),Object(F.jsx)(P.a,{placeholder:"Password",type:"password",value:m,onChange:function(e){return f(e.target.value)}})]}),Object(F.jsx)(M.a,{mt:6,children:Object(F.jsx)(w.a,{type:"submit",onClick:B,bg:"red.400",_hover:{bg:"red.300"},size:"lg",fontSize:"md",width:"100%",children:"Sign up"})}),Object(F.jsx)(M.a,{mt:4,children:Object(F.jsx)(N,{children:"or continue with"})}),Object(F.jsxs)(M.a,{mt:4,mb:4,children:[Object(F.jsx)(w.a,{size:"lg",fontSize:"md",width:"100%",colorScheme:"twitter",leftIcon:Object(F.jsx)(E.a,{}),children:Object(F.jsx)(L.a,{children:Object(F.jsx)(T.a,{children:"Sign up with Twitter"})})}),Object(F.jsx)(w.a,{mt:4,size:"lg",fontSize:"md",width:"100%",colorScheme:"gray",leftIcon:Object(F.jsx)(J.a,{}),children:Object(F.jsx)(L.a,{children:Object(F.jsx)(T.a,{children:"Sign up with GitHub"})})})]})]})]})]})}function K(){var e=Object(s.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(!1),l=Object(u.a)(r,2),o=l[0],d=l[1],A=Object(O.d)("white","gray.800"),D=Object(x.a)(),M=Object(z.b)(I).userDetails,_=Object(g.a)(),P=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,s,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("/api/users/refresh",{},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(M.get().refresh_token)}});case 3:return t=e.sent,n=t.data,e.next=7,h.a.post("/api/users/logout",{},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.access_token)}});case 7:s=e.sent,a=s.data,M.set(null),localStorage.removeItem("userDetails"),_({title:"Account logged out.",description:a.message,status:"success",duration:9e3,isClosable:!0}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return Object(F.jsxs)(a.a.Fragment,{children:[Object(F.jsx)(p.a.header,{bg:A,w:"full",px:{base:2,sm:4},py:4,shadow:"md",children:Object(F.jsxs)(m.a,{alignItems:"center",justifyContent:"space-between",mx:"auto",children:[Object(F.jsxs)(m.a,{children:[Object(F.jsxs)(p.a.a,{as:i.b,to:"/",title:"Ask Me Anything Home Page",display:"flex",alignItems:"center",children:[Object(F.jsx)("img",{src:"https://hotemoji.com/images/dl/1/question-mark-emoji-by-twitter.png",width:"30px",height:"auto",alt:"Ask Me Anything Question Mark Logo"}),Object(F.jsx)(f.a,{children:"Ask Me Anything"})]}),Object(F.jsx)(p.a.h1,{as:i.b,to:"/",fontSize:"xl",fontWeight:"medium",ml:"2",children:"Ask Me Anything"})]}),Object(F.jsxs)(v.a,{display:"flex",alignItems:"center",spacing:1,children:[Object(F.jsxs)(v.a,{spacing:1,mr:1,color:"brand.500",display:{base:"none",md:"inline-flex"},children:[Object(F.jsx)(w.a,{variant:"ghost",children:"Features"}),Object(F.jsx)(w.a,{variant:"ghost",children:"Pricing"}),M.get()?Object(F.jsxs)(w.a,{variant:"ghost",children:["Signed in as ",M.get().username]}):Object(F.jsx)(w.a,{variant:"ghost",onClick:function(){return c(!0)},children:"Sign in"})]}),M.get()?Object(F.jsx)(w.a,{onClick:P,color:"white",bg:"red.400",href:"#",_hover:{bg:"red.300"},children:"Log out"}):Object(F.jsx)(w.a,{onClick:function(){return d(!0)},color:"white",bg:"red.400",href:"#",_hover:{bg:"red.300"},children:"Sign up"}),Object(F.jsxs)(S.a,{display:{base:"inline-flex",md:"none"},children:[Object(F.jsx)(y.a,{display:{base:"flex",md:"none"},"aria-label":"Open menu",fontSize:"20px",color:Object(O.d)("gray.800","inherit"),variant:"ghost",icon:Object(F.jsx)(k.a,{}),onClick:D.onOpen}),Object(F.jsxs)(v.b,{pos:"absolute",top:0,left:0,right:0,display:D.isOpen?"flex":"none",flexDirection:"column",p:2,pb:4,m:2,bg:A,spacing:3,rounded:"sm",shadow:"sm",children:[Object(F.jsx)(C.a,{"aria-label":"Close menu",onClick:D.onClose}),Object(F.jsx)(w.a,{w:"full",variant:"ghost",children:"Features"}),Object(F.jsx)(w.a,{w:"full",variant:"ghost",children:"Pricing"}),M.get()?Object(F.jsxs)(w.a,{w:"full",variant:"ghost",children:["Signed in as ",M.get().username]}):Object(F.jsx)(w.a,{w:"full",variant:"ghost",onClick:function(){return c(!0)},children:"Sign in"})]})]})]})]})}),Object(F.jsx)(Q,{isOpen:o,setRegisterModalOpen:d}),Object(F.jsx)(W,{isOpen:n,setLoginModalOpen:c})]})}function V(){return Object(F.jsx)(K,{})}function X(){return Object(F.jsx)(i.a,{children:Object(F.jsx)(l.a,{path:"/",exact:!0,component:V})})}var Y=n(189);r.a.render(Object(F.jsx)(Y.a,{children:Object(F.jsx)(X,{})}),document.getElementById("root"))}},[[166,1,2]]]);
//# sourceMappingURL=main.df40dc0c.chunk.js.map